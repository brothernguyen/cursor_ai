@if (company && admin) {
<div class="modal-overlay">
  <div class="modal-container">
    <div
      class="flex justify-between items-center p-6 border-b sticky top-0 bg-white"
    >
      <h2 class="text-xl font-semibold">Update Company Admin</h2>
      <button
        (click)="onClose()"
        class="modal-close-button"
      >
        <svg
          class="modal-close-icon"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2.5"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>
    <div class="p-6">
      <form [formGroup]="adminForm" (ngSubmit)="onSubmit()" class="space-y-4">
        <!-- First Name -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >First Name <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="firstName"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
            [class.border-red-500]="firstName?.invalid && firstName?.touched"
            placeholder="Enter first name"
          />
          @if (firstName?.invalid && firstName?.touched) {
          <p class="text-red-500 text-xs mt-1">
            First name is required
          </p>
          }
        </div>

        <!-- Last Name -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Last Name <span class="text-red-500">*</span></label
          >
          <input
            type="text"
            formControlName="lastName"
            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
            [class.border-red-500]="lastName?.invalid && lastName?.touched"
            placeholder="Enter last name"
          />
          @if (lastName?.invalid && lastName?.touched) {
          <p class="text-red-500 text-xs mt-1">
            Last name is required
          </p>
          }
        </div>

        <!-- Status (Disabled) -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Status</label
          >
          <input
            type="text"
            formControlName="status"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"
            readonly
          />
          <p class="text-gray-500 text-xs mt-1">
            Status is not editable at this time
          </p>
        </div>

        <!-- Email (Read-only display) -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-2"
            >Email</label
          >
          <input
            type="email"
            [value]="admin.email"
            disabled
            class="w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"
            readonly
          />
        </div>

        <div class="flex gap-3 pt-4">
          <button
            type="button"
            (click)="onClose()"
            class="flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50 transition-colors"
          >
            Cancel
          </button>
          <button
            type="submit"
            [disabled]="adminForm.invalid || isSubmitting"
            class="flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors"
          >
            @if (isSubmitting) { Updating... } @else { Update }
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
}
